!function(){var e=e||{},t=t||{};e.Entry=Marionette.View.extend({template:"#TaskEntry",triggers:{},regions:new RegionSetter("tasks"),onRender:function(){this.getRegion("tasks").show(new e.Tasks)}}),t.Model=Backbone.Model.extend({defaults:function(){return{author:"Billy"}}}),t.Collection=Backbone.Collection.extend({url:"/back/index.php/tasks"}),e.Task=Marionette.View.extend({className:"task",template:"#Task",templateContext:function(){return{state:"default",stateName:"clean",highlighted:this.model.id%3==1}},onBeforeRender:function(){this.model.id%3==1&&this.$el.addClass("highlighted")},initialize:function(){app.taskRouteCollection=new t.RouteCollection},triggers:{'click [data-action="add"]':"add",'click [data-action="remove"]':"remove"},onAdd:function(){this.$el.find(".actions > div").toggleClass("hide"),app.taskRouteCollection.add(this.model)},onRemove:function(){this.$el.find(".actions > div").toggleClass("hide"),app.taskRouteCollection.remove(this.model)}}),t.RouteCollection=Backbone.Collection.extend({initialize:function(){this.on("update",function(){rootView.getRegion("notify").show(new module_notify.View.EntryRoute),0==this.length&&rootView.getRegion("notify").show(new module_notify.View.Entry)})}}),e.Tasks=Marionette.CollectionView.extend({childView:e.Task,className:"tasks",initialize:function(e){var n=this;this.collection=new t.Collection,this.collection.fetch(),this.collection.on("sync",function(e){return n.render()})}}),window.module_tasks={View:e,Data:t,Entry:e.Entry}}();
//# sourceMappingURL=tasks.js.map
